import"core-js/modules/web.timers.js";import"core-js/modules/es.object.define-property.js";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}import img from"../pic/goblin.png";import Action from"./action";import GameState from"./gameState";import Move from"./move";export var state=new GameState;var move=new Move,Game=function(){function e(){_classCallCheck(this,e),this.board=document.querySelector(".mainfield"),this.cells=document.getElementsByClassName("field"),this.character=document.createElement("img"),this.listener=function(e){Action.bang(e.target)},this.activePosition}return _createClass(e,[{key:"init",value:function(){var e=this;state.refreshState(),this.character.src=img,this.character.className="character",this.interval=setInterval((function(){e.activePosition=move.getPosition(e.activePosition,e.cells),e.cells[e.activePosition].appendChild(e.character),state.winGoblin(),state.lock&&e.end()}),1e3),this.board.addEventListener("click",this.listener)}},{key:"end",value:function(){alert("Вы проиграли, попробуйте еще раз"),clearInterval(this.interval),this.board.removeEventListener("click",this.listener),state.clearState(),this.init()}}]),e}();export var game=new Game;